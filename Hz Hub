-- Hz Hub | Universal Script
-- Developer Scripter: Anri
-- Owner: Havertz
-- ¬© Copyright Hz Hub

print("üîÑ Carregando Hz Hub...")

-- Servi√ßos
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

local plr = Players.LocalPlayer
local mouse = plr:GetMouse()

-- Vari√°veis de Estado
local aimbotEnabled = false
local teamCheck = false
local wallCheck = false
local fovSize = 100
local fovColor = Color3.fromRGB(255, 255, 255)
local fovCircle = nil

local flyEnabled = false
local noclipEnabled = false
local clickTPEnabled = false
local shiftLockEnabled = false

local speedEnabled = false
local jumpEnabled = false
local flySpeedEnabled = false

local currentSpeed = 16
local currentJump = 50
local currentFlySpeed = 50

local connections = {}
local espObjects = {}

-- Carregar Library
local redzlib = loadstring(game:HttpGet("https://raw.githubusercontent.com/tbao143/Library-ui/refs/heads/main/Redzhubui"))()

local Window = redzlib:MakeWindow({
    Title = "Hz Hub | Universal",
    SubTitle = "By Havertz & Anri",
    SaveFolder = "HzHub_Config"
})

Window:AddMinimizeButton({
    Button = { Image = "rbxassetid://71014873973869", BackgroundTransparency = 0 },
    Corner = { CornerRadius = UDim.new(35, 1) }
})

local Tab1 = Window:MakeTab({"Credits", "info"})
local Tab2 = Window:MakeTab({"Aimbot", "target"})
local Tab3 = Window:MakeTab({"Diversos", "package"})

Window:SelectTab(Tab1)

print("‚úÖ UI Carregada")

-- ==========================================
-- TAB 1 - CREDITS
-- ==========================================

Tab1:AddSection({"Hz Hub Information"})

Tab1:AddDiscordInvite({
    Name = "Hz Hub",
    Description = "Join our Discord server",
    Logo = "rbxassetid://18751483361",
    Invite = "https://discord.gg/pzWB6v22kG"
})

Tab1:AddParagraph({"Developer & Credits", 
    "Developer Scripter: Anri\n" ..
    "Owner: Havertz\n\n" ..
    "¬© Copyright Hz Hub\n" ..
    "All Rights Reserved"
})

Tab1:AddParagraph({"Script Info",
    "Vers√£o: 1.0\n" ..
    "Tipo: Universal\n" ..
    "Plataforma: Todos os jogos\n\n" ..
    "Features:\n" ..
    "‚Ä¢ Aimbot com FOV\n" ..
    "‚Ä¢ ESP & Wallhack\n" ..
    "‚Ä¢ Fly, Noclip, Speed\n" ..
    "‚Ä¢ E muito mais!"
})

-- ==========================================
-- TAB 2 - AIMBOT
-- ==========================================

Tab2:AddSection({"Aimbot Settings"})

-- Fun√ß√£o FOV Circle
local function createFOVCircle()
    if fovCircle then
        fovCircle:Remove()
    end
    
    fovCircle = Drawing.new("Circle")
    fovCircle.Thickness = 2
    fovCircle.NumSides = 50
    fovCircle.Radius = fovSize
    fovCircle.Filled = false
    fovCircle.Visible = true
    fovCircle.ZIndex = 999
    fovCircle.Transparency = 1
    fovCircle.Color = fovColor
end

-- Fun√ß√£o para encontrar o jogador mais pr√≥ximo
local function getClosestPlayer()
    local camera = workspace.CurrentCamera
    local closestPlayer = nil
    local shortestDistance = fovSize
    
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= plr and player.Character and player.Character:FindFirstChild("Head") then
            local humanoid = player.Character:FindFirstChild("Humanoid")
            if humanoid and humanoid.Health > 0 then
                -- Team Check
                if teamCheck and player.Team == plr.Team then
                    continue
                end
                
                local pos, onScreen = camera:WorldToViewportPoint(player.Character.Head.Position)
                
                if onScreen then
                    local distance = (Vector2.new(pos.X, pos.Y) - Vector2.new(camera.ViewportSize.X / 2, camera.ViewportSize.Y / 2)).Magnitude
                    
                    if distance < shortestDistance then
                        -- Wall Check
                        if wallCheck then
                            local ray = Ray.new(camera.CFrame.Position, (player.Character.Head.Position - camera.CFrame.Position).Unit * 500)
                            local part = workspace:FindPartOnRayWithIgnoreList(ray, {plr.Character})
                            
                            if part and part:IsDescendantOf(player.Character) then
                                closestPlayer = player
                                shortestDistance = distance
                            end
                        else
                            closestPlayer = player
                            shortestDistance = distance
                        end
                    end
                end
            end
        end
    end
    
    return closestPlayer
end

Tab2:AddToggle({
    Name = "Aimbot Ativado",
    Default = false,
    Callback = function(Value)
        aimbotEnabled = Value
        if Value then
            print("‚úÖ Aimbot ON")
            createFOVCircle()
        else
            print("‚ùå Aimbot OFF")
            if fovCircle then
                fovCircle.Visible = false
            end
        end
    end
})

Tab2:AddToggle({
    Name = "Team Check",
    Default = false,
    Callback = function(Value)
        teamCheck = Value
        print(Value and "‚úÖ Team Check ON" or "‚ùå Team Check OFF")
    end
})

Tab2:AddToggle({
    Name = "Wall Check",
    Default = false,
    Callback = function(Value)
        wallCheck = Value
        print(Value and "‚úÖ Wall Check ON" or "‚ùå Wall Check OFF")
    end
})

Tab2:AddSlider({
    Name = "FOV Size",
    Min = 10,
    Max = 500,
    Increase = 5,
    Default = 100,
    Callback = function(Value)
        fovSize = Value
        if fovCircle then
            fovCircle.Radius = Value
        end
    end
})

Tab2:AddDropdown({
    Name = "FOV Color",
    Options = {"White", "Red", "Blue", "Green", "Yellow", "Purple", "Pink", "Orange"},
    Default = "White",
    Callback = function(Value)
        local colors = {
            White = Color3.fromRGB(255, 255, 255),
            Red = Color3.fromRGB(255, 0, 0),
            Blue = Color3.fromRGB(0, 0, 255),
            Green = Color3.fromRGB(0, 255, 0),
            Yellow = Color3.fromRGB(255, 255, 0),
            Purple = Color3.fromRGB(128, 0, 128),
            Pink = Color3.fromRGB(255, 192, 203),
            Orange = Color3.fromRGB(255, 165, 0)
        }
        fovColor = colors[Value] or Color3.fromRGB(255, 255, 255)
        if fovCircle then
            fovCircle.Color = fovColor
        end
    end
})

-- ==========================================
-- TAB 3 - DIVERSOS
-- ==========================================

Tab3:AddSection({"Movement"})

-- FLY
Tab3:AddToggle({
    Name = "Fly",
    Default = false,
    Callback = function(Value)
        flyEnabled = Value
        
        if Value then
            print("‚úÖ Fly ON")
            
            local char = plr.Character
            if not char then return end
            
            local rootPart = char:FindFirstChild("HumanoidRootPart")
            if not rootPart then return end
            
            local bodyVelocity = Instance.new("BodyVelocity")
            bodyVelocity.Name = "FlyVelocity"
            bodyVelocity.MaxForce = Vector3.new(9e9, 9e9, 9e9)
            bodyVelocity.Velocity = Vector3.zero
            bodyVelocity.Parent = rootPart
            
            local bodyGyro = Instance.new("BodyGyro")
            bodyGyro.Name = "FlyGyro"
            bodyGyro.MaxTorque = Vector3.new(9e9, 9e9, 9e9)
            bodyGyro.P = 9e4
            bodyGyro.Parent = rootPart
            
            connections.fly = RunService.Heartbeat:Connect(function()
                if not flyEnabled then return end
                
                local camera = workspace.CurrentCamera
                local moveDir = Vector3.zero
                
                if UserInputService:IsKeyDown(Enum.KeyCode.W) then
                    moveDir = moveDir + camera.CFrame.LookVector
                end
                if UserInputService:IsKeyDown(Enum.KeyCode.S) then
                    moveDir = moveDir - camera.CFrame.LookVector
                end
                if UserInputService:IsKeyDown(Enum.KeyCode.A) then
                    moveDir = moveDir - camera.CFrame.RightVector
                end
                if UserInputService:IsKeyDown(Enum.KeyCode.D) then
                    moveDir = moveDir + camera.CFrame.RightVector
                end
                if UserInputService:IsKeyDown(Enum.KeyCode.Space) then
                    moveDir = moveDir + Vector3.new(0, 1, 0)
                end
                if UserInputService:IsKeyDown(Enum.KeyCode.LeftShift) then
                    moveDir = moveDir - Vector3.new(0, 1, 0)
                end
                
                bodyVelocity.Velocity = moveDir * currentFlySpeed
                bodyGyro.CFrame = camera.CFrame
            end)
        else
            print("‚ùå Fly OFF")
            
            if connections.fly then
                connections.fly:Disconnect()
            end
            
            local char = plr.Character
            if char then
                local rootPart = char:FindFirstChild("HumanoidRootPart")
                if rootPart then
                    if rootPart:FindFirstChild("FlyVelocity") then
                        rootPart.FlyVelocity:Destroy()
                    end
                    if rootPart:FindFirstChild("FlyGyro") then
                        rootPart.FlyGyro:Destroy()
                    end
                end
            end
        end
    end
})

Tab3:AddSlider({
    Name = "Fly Speed",
    Min = 16,
    Max = 400,
    Increase = 1,
    Default = 50,
    Callback = function(Value)
        currentFlySpeed = Value
    end
})

-- NOCLIP
Tab3:AddToggle({
    Name = "Noclip",
    Default = false,
    Callback = function(Value)
        noclipEnabled = Value
        
        if Value then
            print("‚úÖ Noclip ON")
            
            connections.noclip = RunService.Stepped:Connect(function()
                local char = plr.Character
                if char then
                    for _, part in pairs(char:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.CanCollide = false
                        end
                    end
                end
            end)
        else
            print("‚ùå Noclip OFF")
            
            if connections.noclip then
                connections.noclip:Disconnect()
            end
            
            local char = plr.Character
            if char then
                for _, part in pairs(char:GetDescendants()) do
                    if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                        part.CanCollide = true
                    end
                end
            end
        end
    end
})

-- VELOCIDADE
Tab3:AddToggle({
    Name = "Speed",
    Default = false,
    Callback = function(Value)
        speedEnabled = Value
        
        if Value then
            print("‚úÖ Speed ON: " .. currentSpeed)
            
            connections.speed = RunService.Heartbeat:Connect(function()
                pcall(function()
                    local char = plr.Character
                    if char and char:FindFirstChild("Humanoid") then
                        char.Humanoid.WalkSpeed = currentSpeed
                    end
                end)
            end)
        else
            print("‚ùå Speed OFF")
            
            if connections.speed then
                connections.speed:Disconnect()
            end
            
            pcall(function()
                if plr.Character and plr.Character:FindFirstChild("Humanoid") then
                    plr.Character.Humanoid.WalkSpeed = 16
                end
            end)
        end
    end
})

Tab3:AddSlider({
    Name = "Walk Speed",
    Min = 16,
    Max = 400,
    Increase = 1,
    Default = 16,
    Callback = function(Value)
        currentSpeed = Value
    end
})

-- PULO
Tab3:AddToggle({
    Name = "Super Jump",
    Default = false,
    Callback = function(Value)
        jumpEnabled = Value
        
        if Value then
            print("‚úÖ Super Jump ON: " .. currentJump)
            
            connections.jump = RunService.Heartbeat:Connect(function()
                pcall(function()
                    local char = plr.Character
                    if char and char:FindFirstChild("Humanoid") then
                        char.Humanoid.JumpPower = currentJump
                    end
                end)
            end)
        else
            print("‚ùå Super Jump OFF")
            
            if connections.jump then
                connections.jump:Disconnect()
            end
            
            pcall(function()
                if plr.Character and plr.Character:FindFirstChild("Humanoid") then
                    plr.Character.Humanoid.JumpPower = 50
                end
            end)
        end
    end
})

Tab3:AddSlider({
    Name = "Jump Power",
    Min = 50,
    Max = 300,
    Increase = 1,
    Default = 50,
    Callback = function(Value)
        currentJump = Value
    end
})

Tab3:AddSection({"Utilities"})

-- TOUCH TELEPORT
Tab3:AddToggle({
    Name = "Touch Teleport (Ctrl + Click)",
    Default = false,
    Callback = function(Value)
        clickTPEnabled = Value
        
        if Value then
            print("‚úÖ Touch TP ON")
            
            connections.clickTP = mouse.Button1Down:Connect(function()
                if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then
                    local char = plr.Character
                    if char and char:FindFirstChild("HumanoidRootPart") then
                        char.HumanoidRootPart.CFrame = CFrame.new(mouse.Hit.Position + Vector3.new(0, 3, 0))
                    end
                end
            end)
        else
            print("‚ùå Touch TP OFF")
            
            if connections.clickTP then
                connections.clickTP:Disconnect()
            end
        end
    end
})

-- SHIFT LOCK
Tab3:AddToggle({
    Name = "Shift Lock",
    Default = false,
    Callback = function(Value)
        shiftLockEnabled = Value
        pcall(function()
            plr.DevEnableMouseLock = Value
            print(Value and "‚úÖ Shift Lock ON" or "‚ùå Shift Lock OFF")
        end)
    end
})

-- FPS COUNTER
local fpsCapEnabled = false
local FpsCapGui = nil

Tab3:AddToggle({
    Name = "FPS Counter",
    Default = false,
    Callback = function(Value)
        fpsCapEnabled = Value
        
        if Value then
            FpsCapGui = Instance.new("ScreenGui")
            local FpsLabel = Instance.new("TextLabel")
            
            FpsCapGui.Name = "HzFPS"
            FpsCapGui.Parent = game:GetService("CoreGui")
            FpsCapGui.ResetOnSpawn = false
            
            FpsLabel.Parent = FpsCapGui
            FpsLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
            FpsLabel.BackgroundTransparency = 0.5
            FpsLabel.BorderSizePixel = 0
            FpsLabel.Position = UDim2.new(0.01, 0, 0.01, 0)
            FpsLabel.Size = UDim2.new(0.08, 0, 0.05, 0)
            FpsLabel.Font = Enum.Font.GothamBold
            FpsLabel.Text = "FPS: 60"
            FpsLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
            FpsLabel.TextScaled = true
            
            local lastTime = tick()
            local frameCount = 0
            
            connections.fps = RunService.RenderStepped:Connect(function()
                frameCount = frameCount + 1
                local currentTime = tick()
                if currentTime - lastTime >= 1 then
                    local fps = math.floor(frameCount / (currentTime - lastTime))
                    FpsLabel.Text = "FPS: " .. fps
                    if fps >= 55 then
                        FpsLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
                    elseif fps >= 30 then
                        FpsLabel.TextColor3 = Color3.fromRGB(255, 255, 0)
                    else
                        FpsLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
                    end
                    frameCount = 0
                    lastTime = currentTime
                end
            end)
            
            print("‚úÖ FPS Counter ON")
        else
            if connections.fps then connections.fps:Disconnect() end
            if FpsCapGui then FpsCapGui:Destroy() end
            print("‚ùå FPS Counter OFF")
        end
    end
})

-- ==========================================
-- AIMBOT LOOP
-- ==========================================

RunService.RenderStepped:Connect(function()
    if fovCircle then
        local camera = workspace.CurrentCamera
        fovCircle.Position = Vector2.new(camera.ViewportSize.X / 2, camera.ViewportSize.Y / 2)
        fovCircle.Radius = fovSize
        fovCircle.Color = fovColor
        fovCircle.Visible = aimbotEnabled
    end
    
    if aimbotEnabled then
        local target = getClosestPlayer()
        if target and target.Character and target.Character:FindFirstChild("Head") then
            workspace.CurrentCamera.CFrame = CFrame.new(workspace.CurrentCamera.CFrame.Position, target.Character.Head.Position)
        end
    end
end)

-- Respawn Handler
plr.CharacterAdded:Connect(function(char)
    task.wait(0.5)
    local hum = char:WaitForChild("Humanoid")
    
    if speedEnabled then
        task.spawn(function()
            while speedEnabled and char and hum do
                hum.WalkSpeed = currentSpeed
                task.wait(0.1)
            end
        end)
    end
    
    if jumpEnabled then
        task.spawn(function()
            while jumpEnabled and char and hum do
                hum.JumpPower = currentJump
                task.wait(0.1)
            end
        end)
    end
end)

print("=" .. string.rep("=", 50))
print("‚úÖ Hz Hub Carregado!")
print("Developer: Anri")
print("Owner: Havertz")
print("¬© Copyright Hz Hub")
print("=" .. string.rep("=", 50))